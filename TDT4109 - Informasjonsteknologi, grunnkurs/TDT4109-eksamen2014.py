### Oppgave 1: Flervalgs oppgave (25%)
'''
1. Hvilken fundamental aktivitet innen programvareutviklingsprosessen fokuserer på å endre programvaren for å møte endrede kunde- og markedskrav?
a. Programvarespesifikasjon
b. Programvareutvikling
c. Programvarevalidering
**d. Programvareevolusjon [<--]

2. Hva er et analogt signal?
a. Et kontinuerlig signal hvor den variable egenskap er gitt av en diskret funksjon, som gir verdier fra et definert og begrenset område.
**b. Et kontinuerlig signal hvor en variabel egenskap (f.eks. amplitude eller frekvens) representerer informasjonen som overføres.
c. Et diskret signal som representeres ved hjelp av nuller og enere.
d. En kombinasjon av alternativ a og b.

3. Hvilken type løkkestruktur er garantert å utføre handlingen minst en gang?
a. pre-test løkke (pretest loop).
**b. post-test løkke (posttest loop). [<--]
c. begge typer.
d. ingen av typene.

4. Omtrent hvor mange ganger raskere er en 1 GHz - prosessor i forhold til en på 2 MHz.
a. Halvparten så rask.
b. Like rask.
c. Dobbelt så rask.
**d. 500 ganger så rask.

5. Hva sier Nyquist-regelen?
**a. at samplingsrate ved lyd må være minst det dobbelte i forhold til høyeste frekvensen.
b. at lyd over 20000Hz ikke kan høres av det menneskelige øret.
c. at tapsfri komprimering ikke er mulig for lyd.
d. at lyddata tapsfritt kan komprimeres med maksimalt en faktor 2*pi.

6. Hvilken programvareprosessmodell bør velges for et prosjekt der det skal utvikles et helt nytt system hvor eksisterende komponenter ikke finnes og kunden er usikker på hvordan systemet skal være?
a. Vannfallsmodellen.
**b. Inkrementell utvikling.
c. Gjenbruksorientert systemutvikling.
d. Havmodellen.

7. Hva er hensikten med et paritetsbit i digitale signaler?
a. Forteller hvor meldingen skal sendes.
b. Gjør meldingene raskere å overføre (komprimering).
**c. Bidrar til å detektere feil i digitale signaler.
d. Krypterer signaler så overføringen av data blir sikrere.

8. Kompleksiteten til sortering ved innsetting (insertion sort) er
a. Θ(n).
b. Θ(n log n).
**c. Θ(n^2). [<--]
d. Θ(2n).

9. En moderne prosessor er typisk bygd opp av mange millioner små…
a. Dioder.
b. Magneter.
**c. Transistorer.
d. Kondensatorer.

10. En byte med minne i datamaskinen kan lagre hvor mye?
a. 16 bits.
b. 8 flyttall.
c. fire ASCII-tegn.
**d. en heltallsverdi mellom 0 og 255. [<--]

11. Hvilken av de følgende er en kjent fordel med vannfallsmodellen?
a. Tar hensyn til brukerkrav som endrer seg i løpet av prosjektet.
**b. Gjør prosessen synlig og enklere å monitorere for prosjektlederen.
c. Får tidlige versjoner av systemet raskt ut til kunden.
d. Åpner for kontinuerlig tilbakemelding fra brukerne av systemet.

12. Morsekode representerer bokstaver som sekvenser av prikk og strek som er
a. like lange for alle bokstaver i alfabetet.
b. kortere for bokstaver tidlig i alfabetet, lenger for bokstaver sist i alfabetet.
c. kortere for vokaler, lenger for konsonanter.
**d. kortere for bokstaver som forekommer hyppig i vanlig tekst, lenger for sjeldnere bokstaver.

13. Hvilken av disse er en korrekt gjengivelse av teoribokas definisjon av en algoritme? "En algoritme er et ordnet sett av…"
**a. "… entydige, utførbare skritt som definerer en terminerende prosess" (unambiguous, executable steps that defines a terminating process). [<--]
b. "… entydige, effektive skritt som definerer en utførbar prosess" (unambiguous, efficient steps that defines an executable process).
c. "… velformede, effektive skritt som definerer en terminerende prosess" (well-formed, efficient steps that defines a terminating process).
d. "… velformede, utførbare skritt som definerer en effektiv prosess" (well-formed, efficient steps that defines an efficient process).

14. En datamaskin går i en uendelig løkke som kalles
a. Det naturlige kretsløpet.
**b. Hent-Utfør kretsløpet.
c. Det evige kretsløpet.
d. Beregnings-kretsløpet.

15. Hva er korrekt binær representasjon av 'NTNU' i 8 bits ASCII?
**a. 01001110 01010100 01001110 01010101.
b. 01100001 01100100 01110011 01100110.
c. 01101110 01110101 01110100 01001110.
d. 01100010 01010101 01010010 01010000.

16. I hvilket tilfelle er det mest nyttig å bruke gjenbruksorientert systemutvikling?
**a. Når det finnes tilgjengelig programvare som kan gjøre oppgaver systemet skal utføre.
b. Når det skal lages programvare for å håndtere resirkulering av søppel eller lignende systemer.
c. Når det skal gjenbrukes ideer fra tidligere prosjekter.
d. Når det skal gjenbrukes systemutviklere og systemdesignere fra tidligere prosjekter.

17. Hva står forkortelsen ISP for?
**a. Internet Service Provider.
b. Information Security Protocol.
c. Internet Security Protocol.
d. Information Super Pool.

18. Kompleksiteten til binærsøk er
a. Θ(n) hvis lista er sortert og Θ(n log n) hvis den er usortert.
b. Θ(log n) hvis lista er sortert og Θ(2 log n) hvis lista er usortert.
c. Θ(log n) hvis lista er sortert og Θ(n) hvis lista er usortert.
**d. Θ(log n) hvis lista er sortert. Binærsøk er ubrukelig hvis lista er usortert.

19. RAM
a. Husker alle verdiene når strømmen kuttes.
b. Er alltid inndelt i blokker på 1 kilobyte.
**c. Betyr Random Access Memory.
d. Kan trygt fjernes uten at maskinen slutter å fungere.

20. Hva står bokstavene i RGB for?
**a. Red, Green, Blue.
b. Readable Graphics Byte.
c. Raster Grayscale Balance.
d. Realtime GPU Backlog.

21. Hva kalles aktiviteten som har fokus på å identifisere den overordnede strukturen for et system inkludert dets sub-systemer?
a. Hoveddesign.
**b. Arkitekturdesign.
c. Interfacedesign.
d. Komponentdesign.

22. MODEM er en forkortelse for
**a. MOdulator / DEModulator.
b. Massive Online Digital Electric Messaging.
c. MOnitored Data EMission.
d. Mapping Of Digital Electronic Mail.

23. ASCII-kode representerer bokstavene A til Z som sekvenser av 0 og 1 som er
**a. like lange for disse bokstavene i alfabetet.
b. kortere for bokstaver tidlig i alfabetet, lenger for bokstaver sist i alfabetet.
c. kortere for vokaler, lenger for konsonanter.
d. kortere for bokstaver som forekommer hyppig i vanlig tekst, lenger for sjeldnere bokstaver.

24. Et nettverk som knytter sammen datamaskiner og utstyr i et begrenset område som et kontor, bygning eller i en bolig betegnes med forkortelsen:
**a. LAN.
b. MAN.
c. PAN.
d. WAN.

25. VPN (Virtual Private Network) kan gi mottageren inntrykk av at en reisende ansatt sin bærbare PC befinner seg innenfor bedriftens nettverk ved at meldinger fra denne PC'en
**a. plasseres inni en kryptert datapakke for ekstern oversendelse.
b. sendes med en tidsforsinkelse.
c. sendes ekstra hurtig, med høy prioritet.
d. sendes med en falsk avsenderadresse som inneholder et virus.
'''
### Oppgave 2: Programmerings Fallskjerm (25%)
'''
NAMN ; ID ; VEKT ; SKJERMST.
Døme på innhaldet i fila: 
Frank Stank;D-49334;75;120
Bjarne Stor;C-49335;95;150
Dumbo Ear;D-50105;450;750
Peter Pan;A-12345;30;100
'''
# Oppgave 2a (5%)
'''
>>> person = inputPerson()
Name: Fredrik Olsen
ID: B-77777
KG: 80
Size: 240
>>> person
['Fredrik Olsen', 'B-77777', 80, 240]
>>>
'''
def inputPerson():
    name = input("Name: ")
    id = input("ID: ")
    kg = int(input("KG: "))
    size = int(input("Size: "))
    return [name,id,kg,size]

# Oppgave 2b (5%)
'''
>>> db=readDbFile('members.txt')
>>> for line in db:
print(line)
['Frank Stank', 'D-49334', 75, 120]
['Bjarne Stor', 'C-49335', 95, 150]
['Dumbo Ear', 'D-50105', 450, 750]
['Peter Pan', 'A-12345', 30, 100]
>>>
'''
def readDbFile(filename):
    file = open(filename,'r')
    db = []
    for line in file:
        arr = line.split(";")
        arr[2] = int(arr[2])
        # For sikkerhetsskyld :P
        arr[3] = int(arr[3].strip().replace('\n','n'))
        db.append(arr)
    file.close()
    return db

# Oppgave 2c (5%)
'''
>>> printMemberList(db)
NAMN            ID-NR   VEKT kg.    SKJERMSTORLEIK
Frank Stank     D-49334   75 kg     120 kvadratfot
Bjarne Stor     C-49335   95 kg     150 kvadratfot
Dumbo Ear       D-50105  450 kg     750 kvadratfot
Peter Pan       A-12345   30 kg     100 kvadratfot
>>>
NAMN (avsett 15 teikn)
ID-NR (avsett 9 teikn) 
VEKT (avsett 5 siffer/teikn) kg.
SKJERMSTORLEIK (avsett 4 siffer/teikn) kvadratfot
'''
def printMemberList(db):
    print("NAMN".ljust(15),"ID-NR".ljust(9),"VEKT".rjust(5),"kg.","SKJERMSTORLEIK")
    for line in db:
        print(f"{line[0].ljust(15)} {line[1].ljust(9)} {line[2].rjust(5)} kg  {line[2].ljust(4)}")

# Oppgave 2d (5%)
'''
>>> db=addPerson('members.txt')
Name: Santa Klaus
ID: H-12345
KG: 155
Size: 380
>>>
>>> printMemberList(db)
NAMN ID-NR VEKT kg. SKJERMSTORLEIK
Frank Stank D-49334 75 kg 120 kvadratfot
Bjarne Stor C-49335 95 kg 150 kvadratfot
Dumbo Ear D-50105 450 kg 750 kvadratfot
Peter Pan A-12345 30 kg 100 kvadratfot
Santa Klaus H-12345 155 kg 380 kvadratfot
>>>
'''
def addPerson(filename):
    person = inputPerson()
    file = open(filename,'w')
    add = f"{person[0]};{person[1]};{person[2]};{person[3]}\n"
    file.write(add)
    file.close()
    return readDbFile(filename)

# Oppgave 2e (5%)
'''
Ein fallskjermhoppar fell (med konstant/gjennomsnittleg fart) 100 fot pr. sekund dei 10 første sekunda, og
deretter med konstant toppfart på 200 fot pr. sekund til skjermen må opnast i 3000 fots høgde (sjå figur 1). Om ein
mot normalt hoppar ut under 3000 fot må skjermen utløysast med éin gong (etter 0 sekund).

>>> feet2seconds(12500)
52.5
>>> feet2seconds(7000)
25.0
>>> feet2seconds(2000)
0
>>>
'''
def feet2seconds(feet):
    seconds = 0
    if (feet < 3000):
        return seconds
    feet -= 3000
    if (feet > 1000):
        feet -= 1000
        seconds += feet//200 + 10
    else:
        seconds += feet//100
    return seconds

### Oppgave 3: Programmering Værstasjon (30%)
'''
maksimumstemperatur ; minimumstemperatur ; nedbørsmengd. 
>>> for row in weatherData:
print(row)
[12.0, 2.4, 8.2]
[6.1, 0.6, 11.9]
[8.3, -3.5, 0.0]
[11.6, -5.2, 0.0]
[15.3, 2.8, 14.3]
>>> weatherData[0]
[12.0, 2.4, 8.2]
>>> weatherData[1]
[6.1, 0.6, 11.9]
>>>
'''
# Oppgave 3a (10%)
'''
>>> weatherStats(weatherData)
There are 5 days in the period.
The highest temperature was 15.3 C on day number 5
The lowest temperature was -5.2 C on day number 4
There was a total of 34.4 mm rain in the period
>>> 
'''
def weatherStats(weatherData):
    days = len(weatherData)
    highest = {"index": 1, "value": weatherData[0][0]}
    lowest = {"index": 1, "value": weatherData[0][1]}
    rain = 0
    for i in range(len(weatherData)):
        row = weatherData[i]
        if (highest < row[0]):
            highest["index"] = i+1
            highest["value"] = row[0]
        if (lowest > row[1]):
            lowest["index"] = i+1
            lowest["value"] = row[1]
        rain += row[2]
    print(f"There are {days} days in the period.")
    print(f"The highest temperature was {highest['value']} C on day number {highest['index']}")
    print(f"The lowest temperature was {lowest['value']} C on day number {lowest['index']}")
    print(f"There was a total of {rain} mm rain in the period")

# Oppgave 3b (10%)
'''
>>> coldestThreeDays(weatherData)
2
>>>
n - 2
# -0.5/3 = -0.16
# -8.1/3 = -2.7
# -5.9/3 = -1.966 <-
'''
def coldestThreeDays(weatherData):
    n = len(weatherData) - 2
    if (n < 2):
        return 0
    averageTemp = (weatherData[0][1] + weatherData[1][1] + weatherData[2][1])/3
    index = 0
    for i in range(1,n):
        averageRowTemp = (weatherData[i][1] + weatherData[i+1][1] + weatherData[i+2][1])/3
        if (averageRowTemp <= averageTemp):
            averageTemp = averageRowTemp
            index = i
    return index + 1

# Oppgave 3c (10%)
'''
>>> extraData
'max=23.5, min=9.3, 5.1mm'
>>>
weatherData = addNewDay(extraData,weatherData)
[12.0, 2.4, 8.2]
[6.1, 0.6, 11.9]
[8.3, -3.5, 0.0]
[11.6, -5.2, 0.0]
[15.3, 2.8, 14.3]
>>>[23.5, 9.3, 5.1]
'''
def addNewDay(extraData,weatherData):
    data = extraData.split(', ') # ['max=23.5','min=9.3','5.1mm']
    newData = weatherData
    data[0] = float(data[4:])
    data[1] = float(data[4:])
    data[2] = float(data[:-2])
    newData.append(data)
    return newData

### Oppgave 4 Kodeforståelse (20%)
# Oppgave 4a (5%)
'''
Kva blir returnert ved køyring av funksjonen myst([1,2,3,3,2,1]) med kode som vist under? (3 poeng)
Forklar med ei setning kva funksjonen myst() gjer? (2 poeng)
'''
# [1,2,3,3,2,1]
def myst(A):
    L=len(A) # 6, 4, 2
    if (L>1):
        B=A[0]*A[L-1] # 1, 4, 9
        return B+myst(A[1:L-1]) # 1+4+9+0
    return 0
# Returnerer verdi 14
#
# Funksjonen myst() er en rekursiv funksjon som iterer over en liste gjennom det å legge til startverdi*sluttverdi med kjøring av n//2, 
# om lista er odd vil den midterste være lagt igjen uten å bli addert.

# Oppgave 4b (5%)
'''
Kva blir skrive ut når ein køyrer koden nedanfor? (3 poeng)
Forklar med ei setning kva funksjonen myst_b( ) gjer? (2 poeng)
'''
def myst_b(W):
    # create a 2d-list with W x W zeros - 4 x 4 matrise av 0
    table = [[0 for i in range(W)] for j in range(W)]
    for a in range(W): # 0
        table[a][a]=1 # [0][0] = 1, [1][1] = 1, [2][2] = 1, [3][3] = 1
        b=0
        while a-b > 0 and a+b < W-1: # (0:false:0<3);; (1:true:1<3, 0:false:2<3);; (2:true:2<3, 1:false:3<3);; (3:false:3<3)
            b+=1 # (1, 2);; (1)
            table[a-b][a+b]=1 # ([0][2]=1);; ([1][3]=1)
            table[a+b][a-b]=1 # ([2][0]=1);; ([3][1]=1)
    return table
    '''
    [1,0,1,0]
    [0,1,0,1]
    [1,0,1,0]
    [0,1,0,1]
    '''
for line in myst_b(4):
    print(line)

# Funksjonen myst_b() gir:
# [1,0,1,0]
# [0,1,0,1]
# [1,0,1,0]
# [0,1,0,1]
# 
# Lager en matrise gitt W x W av 0'ere og itererer over listen der hver index er en liste av alternerende 1'ere og 0'ere.

# Oppgave 4c (5%)
'''
Kva blir returnert ved køyring av funksjonen myst_c('R BHO OAS DUE ØGN GEB LSO IUR MNG TD') med kode som vist under? (3 poeng)
Forklar med ei setning kva funksjonen myst_c() gjer? (2 poeng)
'''
def myst_c(A):
    B=''
    for x in range(0,len(A),3):
        B+=A[x]
        # "ROSENBORG"
    return B
# Funksjonen myst_c() gir "ROSENBORG"
#
# Itererer over en streng med step på 3 og henter bokstav fra det steppet og legger det til variabel B for å danne ordet Rosenborg

# Oppgave 4d (5%)
'''
I eit program som skal trene ungdomsskuleelevar i matematikk, treng vi ein funksjon for å sjekke
korrekt nøsting av parentesar i uttrykk der tre ulike parentestypar er tillatne. Funksjonen treng ikkje å
sjekke at uttrykket elles er fornuftig, berre at parentesar kjem i lovleg rekkjefølgje og går opp mhp
talet på start- og sluttparentesar. Vi har også skrivet tre print-setningar som kallar funksjonen for å
teste om den verkar. Koden er vist her (linenummer til venstre ikkje del av koden men er tatt med så
du lettare kan vise til spesifikke kodeliner i svaret ditt): 
'''
# 0
PAREN=['(','[','{',')',']','}']
def test(expression):
    parentheses_list = [] # }])
    for char in expression:
        if char in PAREN[:3]: # start-parenthesis found
            # put corresponding end-parenthesis in the beginning of the list
            parentheses_list.append(PAREN[PAREN.index(char)+3])
        elif char in PAREN[3:]: # end-parenthesis found
            if char != parentheses_list[-1]: # not matched start-parenthesis
                return False
            else:
                parentheses_list.pop()
    return len(parentheses_list) == 0
# 15
def main():
    print('A:', test('{a+4*[b-2*(c+5)]/11}')) #should give True
    print('B:', test('{a+4*[b-2*(c+5])/11}')) #should give False
    print('C:', test('{a+4*[b-2*(c+5])/11}}')) #should give False
'''
Som kommentarane seier, skulle utskrifta frå dei tre print-setningane ha blitt True, False og False,
men når vi køyrer main-funksjonen får vi:
>>> main()
A: []
B: []
C: False
>>>

Det er to feil i koden:
(1) funksjonen returnerer tom liste ([]) i staden for boolske variable for både A og B. Dersom denne
feilen blir retta, vil køyring av programmet indikere den andre feilen:

>>> main()
A: True
B: True
C: False
>>>

(2) som vist over: funksjonen returnerer True for somme uttrykk som skulle gitt False, som for linje B her

Spørsmål: Forklar kva for kodeliner som er årsak til feil (1) og feil (2) og korleis dei enklast kan
rettast. I begge høve skal det vere mogeleg å rette feilen berre ved å endre noko i eksisterande
kodeliner, det skal ikkje vere naudsynt å leggje til nye kodeliner. 
'''
# (1) Linje 14: return parentheses_list, kjøres ved tilfelle A og B
# - kan fikses ved: [return len(parentheses_list) == 0]
# (2) Linje 13: parentheses_list.remove(char), tar vekk parantesen uten å ta hensyn til parantesenes rekkefølge. 
# (2) Linje 10: char not in parentheses_list, må altså her også sjekke om char er like den siste elementen.
# - Dette kan fikses ved å ta vekk den siste elementen om den er av lik type parantes:
# - 10: [if char != parentheses_list[-1]:]
# - 13: [parentheses_list.pop()]

